# 快速开始指南

## 🎯 比赛目标
预测用户在2014年12月19日会购买哪些商品，输出`user_id\titem_id`对。

## 📂 项目结构
```
Tian_Chi_Rec/
├── main_large_scale.py          # 主程序入口
├── src/                        # 源代码
├── config/                     # 配置文件
├── dataset/                    # 原始数据 (50GB)
├── docs/                       # 文档
└── submission.txt             # 最终输出
```

## 🚀 一键运行

### 完整流程 (推荐)
```bash
# 运行完整的大规模推荐系统
python main_large_scale.py --mode full --model_type ensemble
```

### 分步运行
```bash
# 1. 数据预处理 (处理50GB数据)
python main_large_scale.py --mode preprocess

# 2. 模型训练 (训练深度学习模型)
python main_large_scale.py --mode train --model_type ensemble

# 3. 生成推荐 (创建submission.txt)
python main_large_scale.py --mode predict --model_type ensemble
```

## 📊 数据准备

### 原始数据
确保以下文件存在于`dataset/`目录：
- `tianchi_fresh_comp_train_item_online.txt` (114MB)
- `tianchi_fresh_comp_train_user_online_partA.txt` (26GB)  
- `tianchi_fresh_comp_train_user_online_partB.txt` (24.5GB)

### 数据规模
- **总数据**: 50GB
- **用户行为**: 11.65亿条记录
- **商品子集**: 678万商品

## ⚙️ 环境配置

### 安装依赖
```bash
pip install -r config/requirements.txt
```

### 主要依赖
- **深度学习**: tensorflow, torch, torch-geometric
- **大数据处理**: dask[complete]
- **机器学习**: scikit-learn, xgboost
- **工具包**: pandas, numpy, tqdm

## 🔧 模型配置

### 可选模型
- `gru4rec`: GRU序列推荐模型
- `deepfm`: DeepFM特征交叉模型  
- `ensemble`: 多模型集成 (推荐)

### 参数调整
```bash
# 自定义训练参数
python main_large_scale.py --mode full --model_type ensemble --epochs 100 --batch_size 256
```

## 📈 预期结果

### 模型性能
| 模型 | F1分数 | 训练时间 |
|------|--------|----------|
| GRU4Rec | 0.75+ | 2-4小时 |
| DeepFM | 0.78+ | 1-3小时 |
| 集成模型 | 0.82+ | 4-6小时 |

### 输出文件
- `submission.txt`: 最终推荐结果
- `models/`: 训练好的模型文件
- `logs/`: 训练日志

## 🎯 输出格式

### submission.txt
```
user_id    item_id
1001      123456
1001      789012
1002      345678
...
```

### 输出要求
- **格式**: tab分隔，无表头
- **排序**: user_id升序
- **数量**: 每个用户最多5个商品
- **商品**: 必须来自商品子集

## 🔍 常见问题

### Q: 内存不足怎么办？
A: 系统使用Dask分布式处理，支持分块加载，内存需求<32GB

### Q: 训练时间太长？
A: 可以减少epochs或使用较小的batch_size

### Q: 只想快速测试？
A: 使用传统模型：`python src/models/simple_baseline_models.py`

## 📚 相关文档

- [系统架构](系统架构.md): 详细技术架构
- [模型说明](模型说明.md): 模型原理详解
- [配置说明](../config/config.py): 参数配置说明

## 🚀 开始比赛

```bash
# 1. 确保数据就绪
ls -la dataset/

# 2. 安装依赖
pip install -r config/requirements.txt

# 3. 运行系统
python main_large_scale.py --mode full --model_type ensemble

# 4. 查看结果
head -n 10 submission.txt
```

## 🎯 预期效果

使用完整的深度学习推荐系统，预期F1分数可达0.82+，能够有效预测用户购买行为并生成高质量的推荐结果。